<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q CLI WebUI</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ¤– Q CLI WebUI</h1>
            <div class="status-bar">
                <span id="status" class="status disconnected">Disconnected</span>
                <div class="controls">
                    <button id="loginBtn" class="btn primary"><span class="material-icons">login</span></button>
                    <button id="logoutBtn" class="btn secondary" style="display: none;" title="Logout"><span class="material-icons">logout</span></button>
                    <button id="clearBtn" class="btn secondary" title="Clear Terminal"><span class="material-icons">clear_all</span></button>
                </div>
            </div>
        </header>

        <!-- Login Modal -->
        <div id="loginModal" class="modal">
            <div class="modal-content">
                <h2>Login to Q CLI WebUI</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">Username:</label>
                        <input type="text" id="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input type="password" id="password" required>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn primary">Login</button>
                        <button type="button" id="cancelLogin" class="btn secondary">Cancel</button>
                    </div>
                </form>
            </div>
        </div>

        <main>
            <!-- Session Tabs -->
            <div id="sessionTabs" class="session-tabs" style="display: none;">
                <div class="tab-controls">
                    <button id="newSessionBtn" class="btn primary small" title="New Session"><span class="material-icons">add</span></button>
                </div>
                <div id="tabList" class="tab-list"></div>
            </div>

            <!-- Session Content Area -->
            <div id="sessionContent" class="session-content">
                <!-- Default terminal (shown when no sessions) -->
                <div id="terminal" class="terminal"></div>
                
                <!-- Session terminals will be added here dynamically -->
            </div>
            
            <!-- Approval Section -->
            <div id="approvalSection" class="approval-section">
                <div id="approvalMessage" class="approval-message"></div>
                <div class="approval-buttons">
                    <button id="approvalYes" class="approval-btn yes" title="Yes (y)"><span class="material-icons">check</span></button>
                    <button id="approvalNo" class="approval-btn no" title="No (n)"><span class="material-icons">close</span></button>
                    <button id="approvalTrust" class="approval-btn trust" title="Trust (t)"><span class="material-icons">verified</span></button>
                </div>
                <div class="approval-shortcuts">
                    Press Y for Yes, N for No, T for Trust
                </div>
            </div>
            
            <!-- Default input section (shown when no sessions) -->
            <div id="inputSection" class="input-section" style="display: none;">
                <div id="promptIndicator" class="prompt-indicator"></div>
                <div class="chat-input-container">
                    <textarea id="userInput" class="chat-input" placeholder="Type your response here..." rows="1"></textarea>
                    <div class="chat-buttons">
                        <button id="sendBtn" class="btn primary" disabled title="Send"><span class="material-icons">send</span></button>
                        <button id="clearInputBtn" class="btn secondary" title="Clear Input"><span class="material-icons">clear</span></button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Configuration Script -->
    <script>
        // AWS and MQTT Configuration
        window.AWS_CONFIG = {
            region: 'us-east-1', // Will be replaced by build script
            userPoolId: 'us-east-1_XXXXXXXXX', // Will be replaced by build script
            userPoolWebClientId: 'XXXXXXXXXXXXXXXXXXXXXXXXXX', // Will be replaced by build script
            identityPoolId: 'us-east-1:XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX', // Will be replaced by build script
            iotEndpoint: 'XXXXXXXXXXXXXX-ats.iot.us-east-1.amazonaws.com', // Will be replaced by build script
            iotPolicyName: 'q-cli-webui-cognito-iot-policy', // Will be replaced by build script
            projectName: 'q-cli-webui' // Will be replaced by build script
        };
    </script>
</body>
</html>
